name: Slack Notification

on:
  push:
    branches:
      - master

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
      - name: Check Deployment Status
        id: deployment_status
        uses: actions/checkout@v2

      - name: Send Slack Notification
        uses: rtCamp/action-slack-notify@v3
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
        with:
          status: ${{ job.status }}
          text: |
            :rocket: *Deployment Status*

            *Repository:* ${{ github.repository }}
            *Branch:* ${{ github.ref }}
            *Commit:* ${{ github.sha }}
            *Status:* ${{ job.status }}
            *Environment:* Production
            *Deployment Time:* ${{ github.run_duration }}
